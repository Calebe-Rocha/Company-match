<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tinder Social - Doe para sua nova empresa favorita</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .app-container {
            background: white;
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 400px;
            width: 100%;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .app-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .header {
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 14px;
        }

        .company-card {
            background: linear-gradient(145deg, #f8f9ff, #e8ecff);
            border-radius: 20px;
            padding: 30px 20px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
            min-height: 350px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .company-card.swipe-right {
            transform: translateX(100px) rotate(10deg);
            opacity: 0;
        }

        .company-card.swipe-left {
            transform: translateX(-100px) rotate(-10deg);
            opacity: 0;
        }

        .company-logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
            margin: 0 auto 20px;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .company-name {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .company-sector {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 15px;
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 1px;
        }

        .company-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .company-details {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            font-size: 12px;
        }

        .detail-item {
            text-align: center;
        }

        .detail-value {
            font-weight: bold;
            color: #333;
            display: block;
        }

        .detail-label {
            color: #999;
            margin-top: 5px;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            position: relative;
            z-index: 1;
        }

        .btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn:hover {
            transform: scale(1.1);
        }

        .btn:active {
            transform: scale(0.95);
        }

        .btn-reject {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
            color: white;
        }

        .btn-like {
            background: linear-gradient(45deg, #51cf66, #40c057);
            color: white;
        }

        .btn-add {
            background: linear-gradient(45deg, #339af0, #228be6);
            color: white;
            width: 100%;
            height: 50px;
            border-radius: 25px;
            margin-top: 20px;
            font-size: 16px;
        }

        /* Novos estilos para os bot√µes de controle */
        .control-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .btn-manage {
            background: linear-gradient(45deg, #ffd43b, #fab005);
            color: white;
            flex: 1;
            height: 45px;
            border: none;
            border-radius: 15px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-save {
            background: linear-gradient(45deg, #845ec2, #6c5ce7);
            color: white;
            flex: 1;
            height: 45px;
            border: none;
            border-radius: 15px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .matches-section {
            margin-top: 30px;
            position: relative;
            z-index: 1;
        }

        .matches-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
        }

        .matches-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .match-item {
            background: linear-gradient(45deg, #51cf66, #40c057);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }

        .btn-danger {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
            color: white;
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 10px;
        }

        .no-more-companies {
            text-align: center;
            color: #666;
            font-style: italic;
            margin: 40px 0;
        }

        .match-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #51cf66, #40c057);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 2000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .match-notification.show {
            transform: translateX(0);
        }

        /* Estilos para a lista de empresas gerenci√°veis */
        .company-list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: #f8f9ff;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .company-info h4 {
            margin: 0 0 5px 0;
            color: #333;
        }

        .company-info small {
            color: #666;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <div class="logo">üíº Tinder Social</div>
            <div class="subtitle">Doe para sua nova institui√ß√£o favorita!</div>
        </div>

        <div class="current-company-container">
            <div id="companyCard" class="company-card">
                <!-- Conte√∫do da empresa ser√° inserido aqui -->
            </div>
        </div>

        <div class="action-buttons">
            <button class="btn btn-reject" onclick="rejectCompany()">‚ùå</button>
            <button class="btn btn-like" onclick="likeCompany()">‚ù§Ô∏è</button>
        </div>

        <div class="control-buttons">
            <button class="btn-manage" onclick="openManageModal()">üè¢ Gerenciar</button>
            <button class="btn-save" onclick="saveData()">üíæ Salvar</button>
        </div>

        <button class="btn btn-add" onclick="openAddModal()">‚ûï Adicionar Nova Empresa</button>

        <div class="matches-section">
            <div class="matches-title">Seus Matches üéØ</div>
            <div class="matches-list" id="matchesList">
                <!-- Matches ser√£o inseridos aqui -->
            </div>
        </div>
    </div>

<!-- Modal para adicionar empresa -->
<div id="addCompanyModal" class="modal">
    <div class="modal-content">
        <h3>Adicionar Nova Empresa</h3>
        <form id="addCompanyForm">
            <div class="form-group">
                <label>Nome da Empresa</label>
                <input type="text" id="companyName" required>
            </div>
            <div class="form-group">
                <label>Setor</label>
                <select id="companySector" required>
                    <option value="">Selecione um setor</option>
                    <option value="Tecnologia">Tecnologia</option>
                    <option value="Sa√∫de">Sa√∫de</option>
                    <option value="Educa√ß√£o">Educa√ß√£o</option>
                    <option value="Finan√ßas">Finan√ßas</option>
                    <option value="E-commerce">E-commerce</option>
                    <option value="Consultoria">Consultoria</option>
                    <option value="Marketing">Marketing</option>
                    <option value="Manufatura">Manufatura</option>
                    <option value="Varejo">Varejo</option>
                    <option value="Outro">Outro</option>
                </select>
            </div>
            <div class="form-group">
                <label>Logo da Empresa</label>
                <input type="file" id="companyLogo" accept="image/*">
                <small>Selecione uma imagem (opcional)</small>
            </div>
            <div class="form-group">
                <label>Descri√ß√£o</label>
                <textarea id="companyDescription" rows="3" required></textarea>
            </div>
            <div class="form-group">
                <label>Tamanho da Empresa</label>
                <select id="companySize" required>
                    <option value="">Selecione o tamanho</option>
                    <option value="Startup">Startup (1-50)</option>
                    <option value="Pequena">Pequena (51-200)</option>
                    <option value="M√©dia">M√©dia (201-1000)</option>
                    <option value="Grande">Grande (1000+)</option>
                </select>
            </div>
            <div class="form-group">
                <label>Localiza√ß√£o</label>
                <input type="text" id="companyLocation" required>
            </div>
            <div class="form-actions">
                <button type="button" class="btn-secondary" onclick="closeAddModal()">Cancelar</button>
                <button type="submit" class="btn-primary">Adicionar</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal para gerenciar empresas -->
<div id="manageCompaniesModal" class="modal">
    <div class="modal-content">
        <h3>Gerenciar Empresas</h3>
        <div id="companiesManageList">
            <!-- Lista de empresas ser√° inserida aqui -->
        </div>
        <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeManageModal()">Fechar</button>
        </div>
    </div>
</div>

    <div id="matchNotification" class="match-notification">
        üéâ √â um Match! Voc√™ curtiu essa empresa!
    </div>

    <div id="saveNotification" class="match-notification">
        üíæ Dados salvos com sucesso!
    </div>

    <script>
        // Base de dados das empresas
        let companies = [
            {
                  id: 1,
                name: "Arraste para a esquerda ",
                sector: "Aviso",
                description: "Se passar para a esquerda voce recusa a institui√ß√£o e araste para a direita para dar match.",
                size: "Nada",
                location: "Passe",
                employees: "0",
                isUserAdded: false //
                
            },
        {
                    id: 2,
                  name: "Santa Casa de Miseric√≥rdia de Itajub√°",
                  sector: "Sa√∫de",
                  description: "Se passar para a esquerda voc√™ recusa a institui√ß√£o e arrasta para a direita para dar match.",
                  size: "Nada",
                  location: "Itajub√° - MG",
                  employees: "0",
                  isUserAdded: false
                  logo: "santacasa.jpeg"
            },
{
  id: 3,
  name: "Secretaria de Esportes e Lazer",
  sector: "Esportes",
  description: "Se passar para a esquerda voc√™ recusa a institui√ß√£o e arrasta para a direita para dar match.",
  size: "Nada",
  location: "Itajub√° - MG",
  employees: "0",
  isUserAdded: false
  logo: "esportes.jpeg"
},
{
  id: 4,
  name: "ONG Amigos de Itajub√°",
  sector: "Social",
  description: "Se passar para a esquerda voc√™ recusa a institui√ß√£o e arrasta para a direita para dar match.",
  size: "Nada",
  location: "Itajub√° - MG",
  employees: "0",
  isUserAdded: false
  logo: "ong.jpeg"
},
{
  id: 5,
  name: "Unifei al√©m dos muros - PET Engenharia de Produ√ß√£o",
  sector: "Educa√ß√£o",
  description: "Se passar para a esquerda voc√™ recusa a institui√ß√£o e arrasta para a direita para dar match.",
  size: "Nada",
  location: "Itajub√° - MG",
  employees: "0",
  isUserAdded: false
  logo: "unifei.png"
}
        ];

        let currentCompanyIndex = 0;
        let matches = [];
        let rejectedCompanies = []; // Nova vari√°vel para empresas rejeitadas
        let nextId = companies.length + 1;

        // Fun√ß√£o para carregar dados salvos
        function loadSavedData() {
            try {
                const savedCompanies = JSON.parse(localStorage.getItem('userAddedCompanies'));
                if (savedCompanies && savedCompanies.length > 0) {
                    // Remove empresas adicionadas pelo usu√°rio da lista atual
                    companies = companies.filter(company => !company.isUserAdded);
                    // Adiciona as empresas salvas
                    companies = [...companies, ...savedCompanies];
                    
                    // Atualiza o nextId
                    const maxId = Math.max(...companies.map(c => c.id));
                    nextId = maxId + 1;
                }
            } catch (error) {
                console.log('Nenhum dado salvo encontrado ou erro ao carregar');
            }
        }

        // Fun√ß√£o para salvar dados
        function saveData() {
            const userAddedCompanies = companies.filter(company => company.isUserAdded);
            localStorage.setItem('userAddedCompanies', JSON.stringify(userAddedCompanies));
            
            // Mostrar notifica√ß√£o de salvamento
            const notification = document.getElementById('saveNotification');
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function displayCurrentCompany() {
            if (currentCompanyIndex >= companies.length) {
                document.getElementById('companyCard').innerHTML = `
                    <div class="no-more-companies">
                        üéâ Voc√™ viu todas as empresas dispon√≠veis!<br>
                        <small>Adicione mais empresas para continuar explorando.</small>
                    </div>
                `;
                return;
            }
            const company = companies[currentCompanyIndex];

            // Verifica se a empresa tem uma logo carregada, sen√£o usa a letra inicial
            let logoHTML;
            if (company.logo) {
                logoHTML = `<img src="${company.logo}" alt="Logo ${company.name}" style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);">`;
            } else {
                const logoLetter = company.name.charAt(0).toUpperCase();
                logoHTML = `<div class="company-logo">${logoLetter}</div>`;
            }

            document.getElementById('companyCard').innerHTML = `
                ${logoHTML}
                <div class="company-name">${company.name}</div>
                <div class="company-sector">${company.sector}</div>
                <div class="company-description">${company.description}</div>
                <div class="company-details">
                    <div class="detail-item">
                        <span class="detail-value">${company.size}</span>
                        <div class="detail-label">Tamanho</div>
                    </div>
                    <div class="detail-item">
                        <span class="detail-value">${company.employees}</span>
                        <div class="detail-label">Funcion√°rios</div>
                    </div>
                    <div class="detail-item">
                        <span class="detail-value">${company.location.split(',')[0]}</span>
                        <div class="detail-label">Cidade</div>
                    </div>
                </div>
            `;
        }

        function likeCompany() {
            if (currentCompanyIndex >= companies.length) return;
            
            const company = companies[currentCompanyIndex];
            matches.push(company);
            
            // Anima√ß√£o de swipe
            const card = document.getElementById('companyCard');
            card.classList.add('swipe-right');
            
            // Mostrar notifica√ß√£o de match
            showMatchNotification();
            
            setTimeout(() => {
                currentCompanyIndex++;
                card.classList.remove('swipe-right');
                displayCurrentCompany();
                updateMatchesList();
            }, 300);
        }

        function rejectCompany() {
            if (currentCompanyIndex >= companies.length) return;
            
            const company = companies[currentCompanyIndex];
            rejectedCompanies.push(company); // Adiciona √† lista de rejeitadas
            
            // Anima√ß√£o de swipe
            const card = document.getElementById('companyCard');
            card.classList.add('swipe-left');
            
            setTimeout(() => {
                currentCompanyIndex++;
                card.classList.remove('swipe-left');
                displayCurrentCompany();
            }, 300);
        }

        function showMatchNotification() {
            const notification = document.getElementById('matchNotification');
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function updateMatchesList() {
            const matchesList = document.getElementById('matchesList');
            
            if (matches.length === 0) {
                matchesList.innerHTML = '<div style="color: #999; font-style: italic;">Nenhum match ainda</div>';
                return;
            }
            
            matchesList.innerHTML = matches.map(company => `
                <div class="match-item">${company.name}</div>
            `).join('');
        }

        function openAddModal() {
            document.getElementById('addCompanyModal').style.display = 'block';
        }

        function closeAddModal() {
            document.getElementById('addCompanyModal').style.display = 'none';
            document.getElementById('addCompanyForm').reset();
        }

        function openManageModal() {
            updateManageCompaniesList();
            document.getElementById('manageCompaniesModal').style.display = 'block';
        }

        function closeManageModal() {
            document.getElementById('manageCompaniesModal').style.display = 'none';
        }

        function updateManageCompaniesList() {
            const userAddedCompanies = companies.filter(company => company.isUserAdded);
            const manageList = document.getElementById('companiesManageList');
            
            if (userAddedCompanies.length === 0) {
                manageList.innerHTML = '<p style="text-align: center; color: #666; font-style: italic;">Nenhuma empresa adicionada por voc√™ ainda.</p>';
                return;
            }
            
            manageList.innerHTML = userAddedCompanies.map(company => `
                <div class="company-list-item">
                    <div class="company-info">
                        <h4>${company.name}</h4>
                        <small>${company.sector} ‚Ä¢ ${company.location}</small>
                    </div>
                    <button class="btn-danger" onclick="removeCompany(${company.id})">üóëÔ∏è Remover</button>
                </div>
            `).join('');
        }

        function removeCompany(companyId) {
            if (confirm('Tem certeza que deseja remover esta empresa?')) {
                // Remove da lista de empresas
                companies = companies.filter(company => company.id !== companyId);
                
                // Remove dos matches se estiver l√°
                matches = matches.filter(company => company.id !== companyId);
                
                // Remove das rejeitadas se estiver l√°
                rejectedCompanies = rejectedCompanies.filter(company => company.id !== companyId);
                
                // Se a empresa removida era a atual, ajusta o √≠ndice
                if (currentCompanyIndex >= companies.length) {
                    currentCompanyIndex = Math.max(0, companies.length - 1);
                }
                
                // Atualiza as visualiza√ß√µes
                updateManageCompaniesList();
                displayCurrentCompany();
                updateMatchesList();
            }
        }

        // Fechar modals ao clicar fora deles
        document.getElementById('addCompanyModal').onclick = function(event) {
            if (event.target === this) {
                closeAddModal();
            }
        }

        document.getElementById('manageCompaniesModal').onclick = function(event) {
            if (event.target === this) {
                closeManageModal();
            }
        }

        document.getElementById('addCompanyForm').onsubmit = function(event) {
            event.preventDefault();

            const fileInput = document.getElementById('companyLogo');
            const file = fileInput.files[0];

            // Fun√ß√£o para lidar com a leitura do arquivo e adicionar a empresa
            const addCompanyWithLogo = (logoUrl = null) => {
                const newCompany = {
                    id: nextId++,
                    name: document.getElementById('companyName').value,
                    sector: document.getElementById('companySector').value,
                    description: document.getElementById('companyDescription').value,
                    size: document.getElementById('companySize').value,
                    location: document.getElementById('companyLocation').value,
                    employees: getEmployeesRange(document.getElementById('companySize').value),
                    logo: logoUrl,
                    isUserAdded: true // Marca como adicionada pelo usu√°rio
                };

                companies.push(newCompany);
                closeAddModal();

                // Se n√£o h√° mais empresas para mostrar, mostrar a nova
                if (currentCompanyIndex >= companies.length - 1) {
                    displayCurrentCompany();
                }
            };

            // Se um arquivo foi selecionado, ler como data URL
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    addCompanyWithLogo(e.target.result);
                };
                reader.readAsDataURL(file);
            } else {
                addCompanyWithLogo();
            }
        };

        function getEmployeesRange(size) {
            const ranges = {
                'Startup': Math.floor(Math.random() * 50) + 1,
                'Pequena': Math.floor(Math.random() * 150) + 51,
                'M√©dia': Math.floor(Math.random() * 800) + 201,
                'Grande': Math.floor(Math.random() * 5000) + 1000
            };
            return ranges[size] || '50';
        }

        // Suporte para gestos de toque (mobile)
        let startX, startY;

        document.getElementById('companyCard').addEventListener('touchstart', function(e) {
            startX = e.touches[0].clientX;
            startY = e.touches[0].clientY;
        });

        document.getElementById('companyCard').addEventListener('touchend', function(e) {
            if (!startX || !startY) return;
            
            let endX = e.changedTouches[0].clientX;
            let endY = e.changedTouches[0].clientY;
            
            let diffX = startX - endX;
            let diffY = startY - endY;
            
            if (Math.abs(diffX) > Math.abs(diffY)) {
                if (Math.abs(diffX) > 100) {
                    if (diffX > 0) {
                        rejectCompany(); // Swipe left
                    } else {
                        likeCompany(); // Swipe right
                    }
                }
            }
            
            startX = null;
            startY = null;
        });

        // Inicializar a aplica√ß√£o
        loadSavedData(); // Carrega dados salvos primeiro
        displayCurrentCompany();
        updateMatchesList();
    </script>
</body>
</html>